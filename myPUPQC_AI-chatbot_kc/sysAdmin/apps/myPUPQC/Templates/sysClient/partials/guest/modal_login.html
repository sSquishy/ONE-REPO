<!-- Add this CSS (or place it in your stylesheet) -->
<style>
  .is-invalid {
    border-color: red !important;
  }
</style>

<!-- Modal -->
<div class="modal fade" id="loginModal" tabindex="-1" aria-hidden="true" role="dialog">
  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
    <!-- Fixed modal height; adjust as needed -->
    <div class="modal-content position-relative" style="height: 500px;">
      <!-- Custom Close Button: no background, no border -->
      <button type="button" onclick="closeModal()"
        style="position: absolute; top: 10px; right: 10px; background: none; border: none; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; cursor: pointer;">
        &times;
      </button>
      <!-- Modal Body -->
      <div class="modal-body p-0" style="height: 100%;">
        <div class="row g-0 h-100">
          <!-- Left Column: Static Picture -->
          <div class="col-md-6 d-none d-md-block" style="height: 100%;">
            <img src="{% static 'img/myPUPQC-Client/guest/image.png' %}" alt="Login Image"
                 class="img-fluid h-100 w-100" style="object-fit: cover; border-radius: 10px;">
          </div>
          <!-- Right Column: All Views (base font-size: 14px) -->
          <div class="col-md-6" style="height: 100%; overflow-y: auto; font-size: 14px;">
            <!-- Front (Welcome) View -->
            <div id="frontView" style="display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; height: 100%; padding: 10px;">
              <h5 style="color: maroon; margin-top: 10px; font-size: 16px;">W E L C O M E T O</h5>
              <img src="{% static 'myClient/img/myPUPQC.png' %}" alt="myPUPQC" style="width: 180px; height: 48px;">
              <h6 style="color: gray; margin-top: 10px; font-size: 13px;">Please click your destination</h6>
              <button class="btn" style="margin-top: 6px; width: 160px; height: 36px; font-size: 14px; background-color: #5271FF; color: white;"
                      onclick="showStudentLogin()">Student</button>
              <button class="btn" style="margin-top: 6px; width: 160px; height: 36px; font-size: 14px; background-color: #DBA829; color: white;"
                      onclick="showFacultyLogin()">Faculty</button>
              <button class="btn" style="margin-top: 6px; width: 160px; height: 36px; font-size: 14px; background-color: maroon; color: white;"
                      onclick="showAlumniLogin()">Alumni</button>
              <button class="btn" style="margin-top: 6px; width: 160px; height: 36px; font-size: 14px; background-color: #A6A6A6; color: white;"
                      onclick="closeModal()">Guest</button>
              <h6 style="color: gray; margin-top: 10px; font-size: 10px;">
                By using this service you understood and agree<br>
                to the PUP Online Services <a href="https://www.pup.edu.ph/terms/" target="_blank" style="color: blue; text-decoration: underline;">Terms of Use</a> and
                <a href="https://www.pup.edu.ph/privacy/" target="_blank" style="color: blue; text-decoration: underline;">Privacy Statement</a>
              </h6>
            </div>

            <!-- Student Login View -->
            <div id="studentLoginView" style="display: none; height: 100%; padding: 10px; align-items: center; justify-content: center;">
              <form id="studentLoginForm" class="row g-2" onsubmit="return false;">
                <div class="col-12 text-center">
                  <img src="{% static 'myClient/img/myPUPQC.png' %}" alt="myPUPQC" style="width: 180px; height: 48px;">
                </div>
                <div class="col-12 text-center">
                  <h5 style="color: maroon; font-weight: bold; font-size: 16px;">STUDENT MODULE</h5>
                </div>
                <div class="col-12">
                  <div class="form-floating form-floating-outline">
                    <input type="text" id="studentNumber" name="studentNumber" class="form-control" placeholder="Student Number" required
                           style="font-size: 14px; padding: 0.5rem 0.75rem;">
                    <label for="studentNumber" style="font-size: 14px;">Student Number</label>
                  </div>
                </div>
                <!-- Student Birthdate Fields -->
                <div class="col-12 col-md-4">
                  <div class="form-floating form-floating-outline">
                    <select id="studentBirthMonth" name="studentBirthMonth" class="form-select" onchange="populateDays('student')" required
                            style="font-size: 14px; padding: 0.5rem 0.75rem;">
                      <option value="">Select Month</option>
                      <option value="1">January</option>
                      <option value="2">February</option>
                      <option value="3">March</option>
                      <option value="4">April</option>
                      <option value="5">May</option>
                      <option value="6">June</option>
                      <option value="7">July</option>
                      <option value="8">August</option>
                      <option value="9">September</option>
                      <option value="10">October</option>
                      <option value="11">November</option>
                      <option value="12">December</option>
                    </select>
                    <label for="studentBirthMonth" style="font-size: 14px;">Birth Month</label>
                  </div>
                </div>
                <div class="col-12 col-md-4">
                  <div class="form-floating form-floating-outline">
                    <select id="studentBirthDay" name="studentBirthDay" class="form-select" required
                            style="font-size: 14px; padding: 0.5rem 0.75rem;">
                      <!-- Always shows options 1-31; current value will be retained if still valid -->
                    </select>
                    <label for="studentBirthDay" style="font-size: 14px;">Birth Day</label>
                  </div>
                </div>
                <div class="col-12 col-md-4">
                  <div class="form-floating form-floating-outline">
                    <select id="studentBirthYear" name="studentBirthYear" class="form-select" onchange="populateDays('student')" required
                            style="font-size: 14px; padding: 0.5rem 0.75rem;">
                      <!-- Year options will be populated dynamically -->
                    </select>
                    <label for="studentBirthYear" style="font-size: 14px;">Birth Year</label>
                  </div>
                </div>
                <div class="col-12">
                  <div class="form-floating form-floating-outline">
                    <input type="password" id="studentPassword" name="studentPassword" class="form-control" placeholder="Password" required
                           style="font-size: 14px; padding: 0.5rem 0.75rem;">
                    <label for="studentPassword" style="font-size: 14px;">Password</label>
                  </div>
                </div>
                <!-- Student Login Button with Spinner -->
                <div class="col-12 text-center">
                  <button type="submit" class="btn btn-primary fw-bold" style="width: 380px; height: 32px; font-size: 14px;" onclick="if(validateForm(this.form)) { showSpinner(this); } else { return false; }">
                    <span class="btn-text">Login</span>
                    <span class="spinner-border spinner" role="status" style="display: none; margin-left: 5px;">
                      <span class="visually-hidden">Loading...</span>
                    </span>
                  </button>
                </div>
                <!-- Back and Forgot Password Links -->
                <div class="col-12 text-center">
                  <div class="d-flex justify-content-center align-items-center">
                    <h6 style="color: gray; font-weight: normal; font-size: 10px;">
                      <a href="#" style="color: #DBA829; text-decoration: underline;" onclick="backToFront()">I'm not a Student</a> ||
                      <a href="#" style="color: maroon; text-decoration: underline;" onclick="showStudentForgotPassword()">Forgot Password?</a>
                    </h6>
                  </div>
                </div>
                <!-- Terms and Conditions -->
                <div class="col-12 text-center">
                  <h6 style="color: gray; margin-top: 8px; font-weight: normal; font-size: 10px;">
                    By using this service you understood and agree<br>to the PUP Online Services <a href="https://www.pup.edu.ph/terms/" target="_blank" style="color: blue; text-decoration: underline;">Terms of Use</a> and
                    <a href="https://www.pup.edu.ph/privacy/" target="_blank" style="color: blue; text-decoration: underline;">Privacy Statement</a>
                  </h6>
                </div>
              </form>
            </div>

            <!-- Faculty Login View -->
            <div id="facultyLoginView" style="display: none; height: 100%; padding: 10px; align-items: center; justify-content: center;">
              <form id="facultyLoginForm" class="row g-2" onsubmit="return false;">
                <div class="col-12 text-center">
                  <img src="{% static 'myClient/img/myPUPQC.png' %}" alt="myPUPQC" style="width: 180px; height: 48px;">
                </div>
                <div class="col-12 text-center">
                  <h5 style="color: maroon; font-weight: bold; font-size: 16px;">FACULTY MODULE</h5>
                </div>
                <div class="col-12">
                  <div class="form-floating form-floating-outline">
                    <input type="text" id="facultyNumber" name="facultyNumber" class="form-control" placeholder="Faculty Number" required
                           style="font-size: 14px; padding: 0.5rem 0.75rem;">
                    <label for="facultyNumber" style="font-size: 14px;">Faculty Number</label>
                  </div>
                </div>
                <!-- Faculty Birthdate Fields -->
                <div class="col-12 col-md-4">
                  <div class="form-floating form-floating-outline">
                    <select id="facultyBirthMonth" name="facultyBirthMonth" class="form-select" onchange="populateDays('faculty')" required
                            style="font-size: 14px; padding: 0.5rem 0.75rem;">
                      <option value="">Select Month</option>
                      <option value="1">January</option>
                      <option value="2">February</option>
                      <option value="3">March</option>
                      <option value="4">April</option>
                      <option value="5">May</option>
                      <option value="6">June</option>
                      <option value="7">July</option>
                      <option value="8">August</option>
                      <option value="9">September</option>
                      <option value="10">October</option>
                      <option value="11">November</option>
                      <option value="12">December</option>
                    </select>
                    <label for="facultyBirthMonth" style="font-size: 14px;">Birth Month</label>
                  </div>
                </div>
                <div class="col-12 col-md-4">
                  <div class="form-floating form-floating-outline">
                    <select id="facultyBirthDay" name="facultyBirthDay" class="form-select" required
                            style="font-size: 14px; padding: 0.5rem 0.75rem;">
                      <option value="">Select Day</option>
                    </select>
                    <label for="facultyBirthDay" style="font-size: 14px;">Birth Day</label>
                  </div>
                </div>
                <div class="col-12 col-md-4">
                  <div class="form-floating form-floating-outline">
                    <select id="facultyBirthYear" name="facultyBirthYear" class="form-select" onchange="populateDays('faculty')" required
                            style="font-size: 14px; padding: 0.5rem 0.75rem;">
                      <!-- Year options will be populated dynamically -->
                    </select>
                    <label for="facultyBirthYear" style="font-size: 14px;">Birth Year</label>
                  </div>
                </div>
                <div class="col-12">
                  <div class="form-floating form-floating-outline">
                    <input type="password" id="facultyPassword" name="facultyPassword" class="form-control" placeholder="Password" required
                           style="font-size: 14px; padding: 0.5rem 0.75rem;">
                    <label for="facultyPassword" style="font-size: 14px;">Password</label>
                  </div>
                </div>
                <!-- Faculty Login Button with Spinner -->
                <div class="col-12 text-center">
                  <button type="submit" class="btn btn-primary fw-bold" style="width: 380px; height: 32px; font-size: 14px;" onclick="if(validateForm(this.form)) { showSpinner(this); } else { return false; }">
                    <span class="btn-text">Login</span>
                    <span class="spinner-border spinner" role="status" style="display: none; margin-left: 5px;">
                      <span class="visually-hidden">Loading...</span>
                    </span>
                  </button>
                </div>
                <!-- Back and Forgot Password Links -->
                <div class="col-12 text-center">
                  <div class="d-flex justify-content-center align-items-center">
                    <h6 style="color: gray; font-weight: normal; font-size: 10px;">
                      <a href="#" style="color: #DBA829; text-decoration: underline;" onclick="backToFront()">I'm not a Faculty</a> ||
                      <a href="#" style="color: maroon; text-decoration: underline;" onclick="showFacultyForgotPassword()">Forgot Password?</a>
                    </h6>
                  </div>
                </div>
                <!-- Terms and Conditions -->
                <div class="col-12 text-center">
                  <h6 style="color: gray; margin-top: 8px; font-weight: normal; font-size: 10px;">
                    By using this service you understood and agree<br>to the PUP Online Services <a href="https://www.pup.edu.ph/terms/" target="_blank" style="color: blue; text-decoration: underline;">Terms of Use</a> and
                    <a href="https://www.pup.edu.ph/privacy/" target="_blank" style="color: blue; text-decoration: underline;">Privacy Statement</a>
                  </h6>
                </div>
              </form>
            </div>

            <!-- Alumni Login View -->
            <div id="alumniLoginView" style="display: none; height: 100%; padding: 10px; align-items: center; justify-content: center;">
              <form id="alumniLoginForm" class="row g-2" onsubmit="return false;">
                <div class="col-12 text-center">
                  <img src="{% static 'myClient/img/myPUPQC.png' %}" alt="myPUPQC" style="width: 180px; height: 48px;">
                </div>
                <div class="col-12 text-center">
                  <h5 style="color: maroon; font-weight: bold; font-size: 16px;">ALUMNI MODULE</h5>
                </div>
                <div class="col-12">
                  <div class="form-floating form-floating-outline">
                    <input type="text" id="alumniNumber" name="alumniNumber" class="form-control" placeholder="Alumni Number" required
                           style="font-size: 14px; padding: 0.5rem 0.75rem;">
                    <label for="alumniNumber" style="font-size: 14px;">Alumni Number</label>
                  </div>
                </div>
                <!-- Alumni Birthdate Fields -->
                <div class="col-12 col-md-4">
                  <div class="form-floating form-floating-outline">
                    <select id="alumniBirthMonth" name="alumniBirthMonth" class="form-select" onchange="populateDays('alumni')" required
                            style="font-size: 14px; padding: 0.5rem 0.75rem;">
                      <option value="">Select Month</option>
                      <option value="1">January</option>
                      <option value="2">February</option>
                      <option value="3">March</option>
                      <option value="4">April</option>
                      <option value="5">May</option>
                      <option value="6">June</option>
                      <option value="7">July</option>
                      <option value="8">August</option>
                      <option value="9">September</option>
                      <option value="10">October</option>
                      <option value="11">November</option>
                      <option value="12">December</option>
                    </select>
                    <label for="alumniBirthMonth" style="font-size: 14px;">Birth Month</label>
                  </div>
                </div>
                <div class="col-12 col-md-4">
                  <div class="form-floating form-floating-outline">
                    <select id="alumniBirthDay" name="alumniBirthDay" class="form-select" required
                            style="font-size: 14px; padding: 0.5rem 0.75rem;">
                      <option value="">Select Day</option>
                    </select>
                    <label for="alumniBirthDay" style="font-size: 14px;">Birth Day</label>
                  </div>
                </div>
                <div class="col-12 col-md-4">
                  <div class="form-floating form-floating-outline">
                    <select id="alumniBirthYear" name="alumniBirthYear" class="form-select" onchange="populateDays('alumni')" required
                            style="font-size: 14px; padding: 0.5rem 0.75rem;">
                      <!-- Year options will be populated dynamically -->
                    </select>
                    <label for="alumniBirthYear" style="font-size: 14px;">Birth Year</label>
                  </div>
                </div>
                <div class="col-12">
                  <div class="form-floating form-floating-outline">
                    <input type="password" id="alumniPassword" name="alumniPassword" class="form-control" placeholder="Password" required
                           style="font-size: 14px; padding: 0.5rem 0.75rem;">
                    <label for="alumniPassword" style="font-size: 14px;">Password</label>
                  </div>
                </div>
                <!-- Alumni Login Button with Spinner -->
                <div class="col-12 text-center">
                  <button type="submit" class="btn btn-primary fw-bold" style="width: 380px; height: 32px; font-size: 14px;" onclick="if(validateForm(this.form)) { showSpinner(this); } else { return false; }">
                    <span class="btn-text">Login</span>
                    <span class="spinner-border spinner" role="status" style="display: none; margin-left: 5px;">
                      <span class="visually-hidden">Loading...</span>
                    </span>
                  </button>
                </div>
                <!-- Back and Forgot Password Links -->
                <div class="col-12 text-center">
                  <div class="d-flex justify-content-center align-items-center">
                    <h6 style="color: gray; font-weight: normal; font-size: 10px;">
                      <a href="#" style="color: #DBA829; text-decoration: underline;" onclick="backToFront()">I'm not an Alumni</a> ||
                      <a href="#" style="color: maroon; text-decoration: underline;" onclick="showAlumniForgotPassword()">Forgot Password?</a>
                    </h6>
                  </div>
                </div>
                <!-- Terms and Conditions -->
                <div class="col-12 text-center">
                  <h6 style="color: gray; margin-top: 8px; font-weight: normal; font-size: 10px;">
                    By using this service you understood and agree<br>to the PUP Online Services <a href="https://www.pup.edu.ph/terms/" target="_blank" style="color: blue; text-decoration: underline;">Terms of Use</a> and
                    <a href="https://www.pup.edu.ph/privacy/" target="_blank" style="color: blue; text-decoration: underline;">Privacy Statement</a>
                  </h6>
                </div>
              </form>
            </div>

            <!-- Student Forgot Password View -->
            <div id="studentForgotPasswordView" style="display: none; height: 100%; padding: 10px; align-items: center; justify-content: center;">
              <form id="studentForgotPasswordForm" class="row g-2" onsubmit="return false;">
                <div class="col-12 text-center">
                  <img src="{% static 'myClient/img/myPUPQC.png' %}" alt="myPUPQC" style="width: 180px; height: 48px;">
                </div>
                <div class="col-12 text-center">
                  <h5 style="color: maroon; font-weight: bold; font-size: 16px;">STUDENT MODULE</h5>
                </div>
                <div class="col-12">
                  <div class="form-floating form-floating-outline">
                    <input type="email" id="studentEmail" name="studentEmail" class="form-control" placeholder="Email" required
                           style="font-size: 14px; padding: 0.5rem 0.75rem;">
                    <label for="studentEmail" style="font-size: 14px;">Email</label>
                  </div>
                </div>
                <!-- Student Request New Password Button with Spinner -->
                <div class="col-12 text-center">
                  <button type="submit" class="btn btn-primary fw-bold" style="width: 380px; height: 32px; font-size: 14px;" onclick="if(validateForm(this.form)) { showSpinner(this, function(){ Swal.fire({ title: 'Request Sent!', text: 'Please check your email for password reset instructions.', icon: 'success', timer: 2000, showConfirmButton: false }); }); } else { return false; }">
                    <span class="btn-text">Request New Password</span>
                    <span class="spinner-border spinner" role="status" style="display: none; margin-left: 5px;">
                      <span class="visually-hidden">Loading...</span>
                    </span>
                  </button>
                </div>
                <div class="col-12 text-center">
                  <h6 style="color: gray; font-weight: normal; font-size: 10px;">
                    Already have an account? <a href="#" style="color: maroon; text-decoration: underline;" onclick="backToStudentLogin()">LogIn</a>
                  </h6>
                </div>
                <div class="col-12 text-center">
                  <h6 style="color: gray; margin-top: 8px; font-weight: normal; font-size: 10px;">
                    By using this service you understood and agree<br>to the PUP Online Services <a href="https://www.pup.edu.ph/terms/" target="_blank" style="color: blue; text-decoration: underline;">Terms of Use</a> and
                    <a href="https://www.pup.edu.ph/privacy/" target="_blank" style="color: blue; text-decoration: underline;">Privacy Statement</a>
                  </h6>
                </div>
              </form>
            </div>

            <!-- Faculty Forgot Password View -->
            <div id="facultyForgotPasswordView" style="display: none; height: 100%; padding: 10px; align-items: center; justify-content: center;">
              <form id="facultyForgotPasswordForm" class="row g-2" onsubmit="return false;">
                <div class="col-12 text-center">
                  <img src="{% static 'myClient/img/myPUPQC.png' %}" alt="myPUPQC" style="width: 180px; height: 48px;">
                </div>
                <div class="col-12 text-center">
                  <h5 style="color: maroon; font-weight: bold; font-size: 16px;">FACULTY MODULE</h5>
                </div>
                <div class="col-12">
                  <div class="form-floating form-floating-outline">
                    <input type="email" id="facultyEmail" name="facultyEmail" class="form-control" placeholder="Email" required
                           style="font-size: 14px; padding: 0.5rem 0.75rem;">
                    <label for="facultyEmail" style="font-size: 14px;">Email</label>
                  </div>
                </div>
                <!-- Faculty Request New Password Button with Spinner -->
                <div class="col-12 text-center">
                  <button type="submit" class="btn btn-primary fw-bold" style="width: 380px; height: 32px; font-size: 14px;" onclick="if(validateForm(this.form)) { showSpinner(this, function(){ Swal.fire({ title: 'Request Sent!', text: 'Please check your email for password reset instructions.', icon: 'success', timer: 2000, showConfirmButton: false }); }); } else { return false; }">
                    <span class="btn-text">Request New Password</span>
                    <span class="spinner-border spinner" role="status" style="display: none; margin-left: 5px;">
                      <span class="visually-hidden">Loading...</span>
                    </span>
                  </button>
                </div>
                <div class="col-12 text-center">
                  <h6 style="color: gray; font-weight: normal; font-size: 10px;">
                    Already have an account? <a href="#" style="color: maroon; text-decoration: underline;" onclick="backToFacultyLogin()">LogIn</a>
                  </h6>
                </div>
                <div class="col-12 text-center">
                  <h6 style="color: gray; margin-top: 8px; font-weight: normal; font-size: 10px;">
                    By using this service you understood and agree<br>to the PUP Online Services <a href="https://www.pup.edu.ph/terms/" target="_blank" style="color: blue; text-decoration: underline;">Terms of Use</a> and
                    <a href="https://www.pup.edu.ph/privacy/" target="_blank" style="color: blue; text-decoration: underline;">Privacy Statement</a>
                  </h6>
                </div>
              </form>
            </div>

            <!-- Alumni Forgot Password View -->
            <div id="alumniForgotPasswordView" style="display: none; height: 100%; padding: 10px; align-items: center; justify-content: center;">
              <form id="alumniForgotPasswordForm" class="row g-2" onsubmit="return false;">
                <div class="col-12 text-center">
                  <img src="{% static 'myClient/img/myPUPQC.png' %}" alt="myPUPQC" style="width: 180px; height: 48px;">
                </div>
                <div class="col-12 text-center">
                  <h5 style="color: maroon; font-weight: bold; font-size: 16px;">ALUMNI MODULE</h5>
                </div>
                <div class="col-12">
                  <div class="form-floating form-floating-outline">
                    <input type="email" id="alumniEmail" name="alumniEmail" class="form-control" placeholder="Email" required
                           style="font-size: 14px; padding: 0.5rem 0.75rem;">
                    <label for="alumniEmail" style="font-size: 14px;">Email</label>
                  </div>
                </div>
                <!-- Alumni Request New Password Button with Spinner -->
                <div class="col-12 text-center">
                  <button type="submit" class="btn btn-primary fw-bold" style="width: 380px; height: 32px; font-size: 14px;" onclick="if(validateForm(this.form)) { showSpinner(this, function(){ Swal.fire({ title: 'Request Sent!', text: 'Please check your email for password reset instructions.', icon: 'success', timer: 2000, showConfirmButton: false }); }); } else { return false; }">
                    <span class="btn-text">Request New Password</span>
                    <span class="spinner-border spinner" role="status" style="display: none; margin-left: 5px;">
                      <span class="visually-hidden">Loading...</span>
                    </span>
                  </button>
                </div>
                <div class="col-12 text-center">
                  <h6 style="color: gray; font-weight: normal; font-size: 10px;">
                    Already have an account? <a href="#" style="color: maroon; text-decoration: underline;" onclick="backToAlumniLogin()">LogIn</a>
                  </h6>
                </div>
                <div class="col-12 text-center">
                  <h6 style="color: gray; margin-top: 8px; font-weight: normal; font-size: 10px;">
                    By using this service you understood and agree<br>to the PUP Online Services <a href="https://www.pup.edu.ph/terms/" target="_blank" style="color: blue; text-decoration: underline;">Terms of Use</a> and
                    <a href="https://www.pup.edu.ph/privacy/" target="_blank" style="color: blue; text-decoration: underline;">Privacy Statement</a>
                  </h6>
                </div>
              </form>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- JavaScript Functions -->
<script>
  // Hide all views
  function hideAllViews() {
    document.getElementById('frontView').style.display = 'none';
    document.getElementById('studentLoginView').style.display = 'none';
    document.getElementById('facultyLoginView').style.display = 'none';
    document.getElementById('alumniLoginView').style.display = 'none';
    document.getElementById('studentForgotPasswordView').style.display = 'none';
    document.getElementById('facultyForgotPasswordView').style.display = 'none';
    document.getElementById('alumniForgotPasswordView').style.display = 'none';
  }

  function backToFront() {
    hideAllViews();
    document.getElementById('frontView').style.display = 'flex';
  }

  // Show specific login views
  function showStudentLogin() {
    hideAllViews();
    document.getElementById('studentLoginView').style.display = 'flex';
  }

  function showFacultyLogin() {
    hideAllViews();
    document.getElementById('facultyLoginView').style.display = 'flex';
  }

  function showAlumniLogin() {
    hideAllViews();
    document.getElementById('alumniLoginView').style.display = 'flex';
  }

  // Show specific forgot password views
  function showStudentForgotPassword() {
    hideAllViews();
    document.getElementById('studentForgotPasswordView').style.display = 'flex';
  }

  function showFacultyForgotPassword() {
    hideAllViews();
    document.getElementById('facultyForgotPasswordView').style.display = 'flex';
  }

  function showAlumniForgotPassword() {
    hideAllViews();
    document.getElementById('alumniForgotPasswordView').style.display = 'flex';
  }

  // Back from forgot password to login
  function backToStudentLogin() {
    hideAllViews();
    document.getElementById('studentLoginView').style.display = 'flex';
  }

  function backToFacultyLogin() {
    hideAllViews();
    document.getElementById('facultyLoginView').style.display = 'flex';
  }

  function backToAlumniLogin() {
    hideAllViews();
    document.getElementById('alumniLoginView').style.display = 'flex';
  }

  function closeModal() {
    var modalEl = document.getElementById('loginModal');
    var modal = bootstrap.Modal.getInstance(modalEl);
    if (modal) {
      modal.hide();
    }
  }

  // Generic function to populate the Day dropdown based on the prefix.
  function populateDays(prefix) {
    const month = document.getElementById(prefix + 'BirthMonth').value;
    const year = document.getElementById(prefix + 'BirthYear').value;
    const daySelect = document.getElementById(prefix + 'BirthDay');
    const currentDay = daySelect.value; // save current value
    daySelect.innerHTML = '<option value="">Select Day</option>';
    let maxDays = 31;
    if (month && year) {
      maxDays = new Date(year, month, 0).getDate();
    }
    for (let i = 1; i <= maxDays; i++) {
      let option = document.createElement('option');
      option.value = i;
      option.textContent = i;
      daySelect.appendChild(option);
    }
    // Retain the previously selected day if still valid
    if (currentDay && currentDay <= maxDays) {
      daySelect.value = currentDay;
    } else {
      daySelect.value = "";
    }
  }

  // Populate the Year dropdown from 1900 to (current year - 10)
  function populateYearOptions(prefix) {
    var yearSelect = document.getElementById(prefix + 'BirthYear');
    yearSelect.innerHTML = '<option value="">Select Year</option>';
    var currentYear = new Date().getFullYear();
    var maxYear = currentYear - 10;
    for (var y = maxYear; y >= 1900; y--) {
      var option = document.createElement('option');
      option.value = y;
      option.textContent = y;
      yearSelect.appendChild(option);
    }
  }

  // Call populateYearOptions for each prefix on page load.
  document.addEventListener('DOMContentLoaded', function() {
    populateYearOptions('student');
    populateYearOptions('faculty');
    populateYearOptions('alumni');
    // Initialize the Day dropdowns with 1-31.
    ['student', 'faculty', 'alumni'].forEach(function(prefix) {
      const daySelect = document.getElementById(prefix + 'BirthDay');
      daySelect.innerHTML = '<option value="">Select Day</option>';
      for (let i = 1; i <= 31; i++) {
        let option = document.createElement('option');
        option.value = i;
        option.textContent = i;
        daySelect.appendChild(option);
      }
    });
  });

  // Email validation function.
  function isValidEmail(value) {
    const genericEmailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!genericEmailRegex.test(value)) {
      return false;
    }
    if (value.includes('pup.edu.ph') && !value.endsWith('@iskolarngbayan.pup.edu.ph')) {
      return false;
    }
    return true;
  }

  // Field validation.
  document.querySelectorAll('#loginModal input, #loginModal select').forEach(function(el) {
    el.addEventListener('blur', function() {
      if (el.hasAttribute('required')) {
        if (!el.value) {
          el.classList.add('is-invalid');
        } else if (el.type === 'email' && !isValidEmail(el.value)) {
          el.classList.add('is-invalid');
        } else {
          el.classList.remove('is-invalid');
        }
      }
    });
  });

  // Validate form on submit.
  function validateForm(form) {
    let isValid = true;
    const requiredFields = form.querySelectorAll('input[required], select[required]');
    requiredFields.forEach(function(field) {
      if (!field.value) {
        field.classList.add('is-invalid');
        isValid = false;
      } else if (field.type === 'email' && !isValidEmail(field.value)) {
        field.classList.add('is-invalid');
        isValid = false;
      } else {
        field.classList.remove('is-invalid');
      }
    });
    return isValid;
  }

  // Function to show spinner for 2 seconds.
  function showSpinner(button, callback) {
    var btnText = button.querySelector('.btn-text');
    var spinner = button.querySelector('.spinner');
    if (btnText) {
      btnText.style.display = 'none';
    }
    if (spinner) {
      spinner.style.display = 'inline-block';
    }
    button.disabled = true;
    setTimeout(function(){
      if (spinner) {
        spinner.style.display = 'none';
      }
      if (btnText) {
        btnText.style.display = 'inline';
      }
      button.disabled = false;
      if (callback) {
        callback();
      }
    }, 2000);
  }
</script>

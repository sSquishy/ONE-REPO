{% extends 'layout/sysStudent/sysStudent_layout.html' %}

{% load static %}
{% load i18n %}

{% block title %}myScheduler | Security Page{% endblock %}

{% block vendor_css %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'vendor/libs/select2/select2.css' %}" />
<link rel="stylesheet" href="{% static 'vendor/libs/@form-validation/umd/styles/index.min.css' %}" />

<link rel="stylesheet" href="{% static 'vendor/libs/animate-css/animate.css' %}" />
<link rel="stylesheet" href="{% static 'vendor/libs/sweetalert2/sweetalert2.css' %}" />
{% endblock vendor_css %}

{% block vendor_js %}
{{ block.super }}
<script src="{% static 'vendor/libs/select2/select2.js' %}"></script>
<script src="{% static 'vendor/libs/@form-validation/umd/bundle/popular.min.js' %}"></script>
<script src="{% static 'vendor/libs/@form-validation/umd/plugin-bootstrap5/index.min.js' %}"></script>
<script src="{% static 'vendor/libs/@form-validation/umd/plugin-auto-focus/index.min.js' %}"></script>
<script src="{% static 'vendor/libs/cleavejs/cleave.js' %}"></script>
<script src="{% static 'vendor/libs/cleavejs/cleave-phone.js' %}"></script>

<script src="{% static 'vendor/libs/sweetalert2/sweetalert2.js' %}"></script>
{% endblock vendor_js %}

{% block page_css %}
{{ block.super }}
{% endblock page_css %}

{% block page_js %}
{{ block.super }}
<script src="{% static 'myPUPQC\js\settings\user-account-settings.js' %}"></script>
<script>
  const csrf = '{{ csrf_token }}';
  const changeUserPassword = "{% url 'changeUserPassword' %}"
  const role = "Student";
</script>
{% endblock page_js %}
{% block content %}
<div style="width: 90%; margin: 0 auto; box-sizing: border-box;">

  <h4 class="py-3 mb-4">
    <span class="text-muted fw-light">{% translate "Account Settings" %} /</span>
    {% translate "Security" %}
  </h4>

  <div class="row">
    <div class="col-md-12">
      <ul class="nav nav-pills flex-column flex-md-row mb-3 gap-2 gap-lg-0">
        <li class="nav-item">
          <a class="nav-link" href="{% url 'sysStudent-Profile-Page' %}">
            <i class="mdi mdi-account-outline mdi-20px me-1"></i> Account
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="javascript:void(0);">
            <i class="mdi mdi-lock-open-outline mdi-20px me-1"></i> Security
          </a>
        </li>
      </ul>

      <!-- Change Password -->
      <div class="card mb-4">
        <h5 class="card-header" id="changePassword">Change Password</h5>
        <div class="card-body">
          <form id="formAccountSettings" method="GET" onsubmit="return false">
            <div class="row">
              <div class="mb-3 col-md-6 form-password-toggle">
                <div class="input-group input-group-merge">
                  <div class="form-floating form-floating-outline">
                    <input
                      class="form-control"
                      type="password"
                      name="currentPassword"
                      id="currentPassword"
                      placeholder="Current Password"
                    />
                    <label for="currentPassword">Current Password</label>
                  </div>
                  <span class="input-group-text cursor-pointer">
                    <i class="mdi mdi-eye-off-outline"></i>
                  </span>
                </div>
              </div>
            </div>

            <div class="row g-3 mb-4">
              <div class="col-md-6 form-password-toggle">
                <div class="input-group input-group-merge">
                  <div class="form-floating form-floating-outline">
                    <input
                      class="form-control"
                      type="password"
                      id="newPassword"
                      name="newPassword"
                      placeholder="New Password"
                    />
                    <label for="newPassword">New Password</label>
                  </div>
                  <span class="input-group-text cursor-pointer">
                    <i class="mdi mdi-eye-off-outline"></i>
                  </span>
                </div>

                <!-- Strength Bar & Text -->
                <div class="mt-1">
                  <div class="progress" style="height: 5px;">
                    <div
                      id="passwordStrengthBar"
                      class="progress-bar"
                      role="progressbar"
                      aria-valuenow="0"
                      aria-valuemin="0"
                      aria-valuemax="100"
                      style="width: 0%"
                    ></div>
                  </div>
                  <small
                    id="passwordStrengthText"
                    class="fw-semibold text-muted"
                  ></small>
                </div>
              </div>

              <div class="col-md-6 form-password-toggle">
                <div class="input-group input-group-merge">
                  <div class="form-floating form-floating-outline">
                    <input
                      class="form-control"
                      type="password"
                      name="confirmPassword"
                      id="confirmPassword"
                      placeholder="Confirm New Password"
                    />
                    <label for="confirmPassword">Confirm New Password</label>
                  </div>
                  <span class="input-group-text cursor-pointer">
                    <i class="mdi mdi-eye-off-outline"></i>
                  </span>
                </div>
              </div>
            </div>

            <!-- Password Requirements -->
            <h6 class="text-body">Password Requirements:</h6>
            <ul id="pwdRequirements" class="ps-3 mb-3">
              <li class="requirement-item" data-key="length">
                10â€“30 characters
              </li>
              <li class="requirement-item" data-key="uppercase">
                At least one uppercase letter
              </li>
              <li class="requirement-item" data-key="lowercase">
                At least one lowercase letter
              </li>
              <li class="requirement-item" data-key="digit">
                At least one digit
              </li>
              <li class="requirement-item" data-key="symbol">
                At least one symbol (!@#$.,&)
              </li>
              <li class="requirement-item" data-key="restricted">
                Must NOT contain: ' " % * - ( ) = + ~
              </li>
            </ul>

            <div class="mt-4">
              <button type="button" id="changePasswordBtn" class="btn btn-primary me-2">
                Save changes
              </button>
              <button type="reset" class="btn btn-outline-secondary">
                Cancel
              </button>
            </div>
          </form>
        </div>
      </div>
      <!--/ Change Password -->
    </div>
  </div>

</div>
{% endblock %}
